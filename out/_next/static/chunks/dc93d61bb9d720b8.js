(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32189,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,r)=>{"use strict";var a=e.r(32189);function n(){}function i(){}i.resetWarningCache=n,t.exports=function(){function e(e,t,r,n,i,s){if(s!==a){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},45009,(e,t,r)=>{t.exports=e.r(65156)()},69439,e=>{"use strict";e.i(47167);var t,r,a,n,i,s,o,l=e.i(43476),c=e.i(71645),d=e.i(18566),u=e.i(46932),m=e.i(88653),p=e.i(84614),f=e.i(46897),h=e.i(78583),y=e.i(61659),g=e.i(50965),b=e.i(15788),x=e.i(50627),v=e.i(69638),j=e.i(63209),N=e.i(31278);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S="clover",C="https://js.stripe.com",P="".concat(C,"/").concat(S,"/stripe.js"),E=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,k=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,A=function(){for(var e=document.querySelectorAll('script[src^="'.concat(C,'"]')),t=0;t<e.length;t++){var r,a=e[t];if(r=a.src,E.test(r)||k.test(r))return a}return null},O=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(P).concat(t);var a=document.head||document.body;if(!a)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},I=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:t})},T=null,R=null,_=null,D=function(e,t,r){if(null===e)return null;var a,n=t[0];if("string"!=typeof n)throw Error("Expected publishable key to be of type string, got type ".concat(w(n)," instead."));var i=n.match(/^pk_test/),s=3===(a=e.version)?"v3":a;i&&s!==S&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(S,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return I(o,r),o},F=!1,z=function(){return n?n:n=(null!==T?T:(T=new Promise(function(e,t){if("u"<typeof window||"u"<typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var r,a=A();a?a&&null!==_&&null!==R&&(a.removeEventListener("load",_),a.removeEventListener("error",R),null==(r=a.parentNode)||r.removeChild(a),a=O(null)):a=O(null),_=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},R=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},a.addEventListener("load",_),a.addEventListener("error",R)}catch(e){t(e);return}})).catch(function(e){return T=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)})};Promise.resolve().then(function(){return z()}).catch(function(e){F||console.warn(e)});var M=e.i(45009);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,a,n=e&&("u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var V=function(e,t,r){var a=!!r,n=c.default.useRef(r);c.default.useEffect(function(){n.current=r},[r]),c.default.useEffect(function(){if(!a||!e)return function(){};var r=function(){n.current&&n.current.apply(n,arguments)};return e.on(t,r),function(){e.off(t,r)}},[a,t,e,n])},$=function(e){var t=c.default.useRef(e);return c.default.useEffect(function(){t.current=e},[e]),t.current},J=function(e){return null!==e&&"object"===B(e)},Y="[object Object]",K=function e(t,r){if(!J(t)||!J(r))return t===r;var a=Array.isArray(t);if(a!==Array.isArray(r))return!1;var n=Object.prototype.toString.call(t)===Y;if(n!==(Object.prototype.toString.call(r)===Y))return!1;if(!n&&!a)return t===r;var i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length)return!1;for(var o={},l=0;l<i.length;l+=1)o[i[l]]=!0;for(var c=0;c<s.length;c+=1)o[s[c]]=!0;var d=Object.keys(o);return d.length===i.length&&d.every(function(a){return e(t[a],r[a])})},W=function(e,t,r){return J(e)?Object.keys(e).reduce(function(a,n){var i=!J(t)||!K(e[n],t[n]);return r.includes(n)?(i&&console.warn("Unsupported prop change: options.".concat(n," is not a mutable property.")),a):i?L(L({},a||{}),{},U({},n,e[n])):a},null):null},X="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;if(null===e||J(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;if(J(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return Z(e,t)})};var r=Z(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},ee=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},et=c.default.createContext(null);et.displayName="ElementsContext";var er=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ea=function(e){var t=e.stripe,r=e.options,a=e.children,n=c.default.useMemo(function(){return Q(t)},[t]),i=H(c.default.useState(function(){return{stripe:"sync"===n.tag?n.stripe:null,elements:"sync"===n.tag?n.stripe.elements(r):null}}),2),s=i[0],o=i[1];c.default.useEffect(function(){var e=!0,t=function(e){o(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==n.tag||s.stripe?"sync"!==n.tag||s.stripe||t(n.stripe):n.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[n,s,r]);var l=$(t);c.default.useEffect(function(){null!==l&&l!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[l,t]);var d=$(r);return c.default.useEffect(function(){if(s.elements){var e=W(r,d,["clientSecret","fonts"]);e&&s.elements.update(e)}},[r,d,s.elements]),c.default.useEffect(function(){ee(s.stripe)},[s.stripe]),c.default.createElement(et.Provider,{value:s},a)};ea.propTypes={stripe:M.default.any,options:M.default.object};M.default.func.isRequired;var en=c.default.createContext(null);en.displayName="CheckoutContext",M.default.any,M.default.shape({clientSecret:M.default.oneOfType([M.default.string,M.default.instanceOf(Promise)]).isRequired,elementsOptions:M.default.object}).isRequired;var ei=function(e){var t=c.default.useContext(en),r=c.default.useContext(et);if(!t)return er(r,e);if(!r)return t;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},es=["mode"],eo=function(e,t){var r="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),a=t?function(e){ei("mounts <".concat(r,">"));var t=e.id,a=e.className;return c.default.createElement("div",{id:t,className:a})}:function(t){var a,n=t.id,i=t.className,s=t.options,o=void 0===s?{}:s,l=t.onBlur,d=t.onFocus,u=t.onReady,m=t.onChange,p=t.onEscape,f=t.onClick,h=t.onLoadError,y=t.onLoaderStart,g=t.onNetworksChange,b=t.onConfirm,x=t.onCancel,v=t.onShippingAddressChange,j=t.onShippingRateChange,N=t.onSavedPaymentMethodRemove,w=t.onSavedPaymentMethodUpdate,S=ei("mounts <".concat(r,">")),C="elements"in S?S.elements:null,P="checkoutState"in S?S.checkoutState:null,E=(null==P?void 0:P.type)==="success"||(null==P?void 0:P.type)==="loading"?P.sdk:null,k=H(c.default.useState(null),2),A=k[0],O=k[1],I=c.default.useRef(null),T=c.default.useRef(null);V(A,"blur",l),V(A,"focus",d),V(A,"escape",p),V(A,"click",f),V(A,"loaderror",h),V(A,"loaderstart",y),V(A,"networkschange",g),V(A,"confirm",b),V(A,"cancel",x),V(A,"shippingaddresschange",v),V(A,"shippingratechange",j),V(A,"savedpaymentmethodremove",N),V(A,"savedpaymentmethodupdate",w),V(A,"change",m),u&&(a="expressCheckout"===e?u:function(){u(A)}),V(A,"ready",a),c.default.useLayoutEffect(function(){if(null===I.current&&null!==T.current&&(C||E)){var t=null;if(E)switch(e){case"paymentForm":t=E.createPaymentFormElement(o);break;case"payment":t=E.createPaymentElement(o);break;case"address":if("mode"in o){var a=o.mode,n=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(o,es);if("shipping"===a)t=E.createShippingAddressElement(n);else if("billing"===a)t=E.createBillingAddressElement(n);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=E.createExpressCheckoutElement(o);break;case"currencySelector":t=E.createCurrencySelectorElement();break;case"taxId":t=E.createTaxIdElement(o);break;default:throw Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else C&&(t=C.create(e,o));I.current=t,O(t),t&&t.mount(T.current)}},[C,E,o]);var R=$(o);return c.default.useEffect(function(){if(I.current){var e=W(o,R,["paymentRequest"]);e&&"update"in I.current&&I.current.update(e)}},[o,R]),c.default.useLayoutEffect(function(){return function(){if(I.current&&"function"==typeof I.current.destroy)try{I.current.destroy(),I.current=null}catch(e){}}},[]),c.default.createElement("div",{id:n,className:i,ref:T})};return a.propTypes={id:M.default.string,className:M.default.string,onChange:M.default.func,onBlur:M.default.func,onFocus:M.default.func,onReady:M.default.func,onEscape:M.default.func,onClick:M.default.func,onLoadError:M.default.func,onLoaderStart:M.default.func,onNetworksChange:M.default.func,onConfirm:M.default.func,onCancel:M.default.func,onShippingAddressChange:M.default.func,onShippingRateChange:M.default.func,onSavedPaymentMethodRemove:M.default.func,onSavedPaymentMethodUpdate:M.default.func,options:M.default.object},a.displayName=r,a.__elementType=e,a},el="u"<typeof window;c.default.createContext(null).displayName="EmbeddedCheckoutProviderContext",eo("auBankAccount",el),eo("card",el),eo("cardNumber",el),eo("cardExpiry",el),eo("cardCvc",el),eo("iban",el);var ec=eo("payment",el);eo("expressCheckout",el),eo("paymentRequestButton",el),eo("linkAuthentication",el),eo("address",el),eo("shippingAddress",el),eo("paymentMethodMessaging",el),eo("taxId",el),(t=i||(i={})).INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved",(r=s||(s={})).LOADING_STATUS="setLoadingStatus",r.RESET_OPTIONS="resetOptions",r.SET_BRAINTREE_INSTANCE="braintreeInstance",(a=o||(o={})).NUMBER="number",a.CVV="cvv",a.EXPIRATION_DATE="expirationDate",a.EXPIRATION_MONTH="expirationMonth",a.EXPIRATION_YEAR="expirationYear",a.POSTAL_CODE="postalCode";var ed=function(){return(ed=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function eu(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function em(e,t,r){if(r||2==arguments.length)for(var a,n=0,i=t.length;n<i;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ep="data-react-paypal-script-id",ef="react-paypal-js",eh="dataNamespace",ey="dataSdkIntegrationSource",eg="paypal";function eb(e){return void 0===e&&(e=eg),window[e]}function ex(e){var t=e.reactComponentName,r=e.sdkComponentKey,a=e.sdkRequestedComponents,n=void 0===a?"":a,i=e.sdkDataNamespace,s=r.charAt(0).toUpperCase().concat(r.substring(1)),o="Unable to render <".concat(t," /> because window.").concat(void 0===i?eg:i,".").concat(s," is undefined."),l="string"==typeof n?n:n.join(",");if(!l.includes(r)){var c=[l,r].filter(Boolean).join();o+="\nTo fix the issue, add '".concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(c,"'}}>`.")}return o}function ev(e){e[ep];var t=eu(e,[ep+""]);return"react-paypal-js-".concat(function(e){for(var t="",r=0;r<e.length;r++){var a=e[r].charCodeAt(0)*r;e[r+1]&&(a+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(a)%26)}return t}(JSON.stringify(t)))}function ej(e,t){var r,a,n,o;switch(t.type){case s.LOADING_STATUS:if("object"==typeof t.value)return ed(ed({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message});return ed(ed({},e),{loadingStatus:t.value});case s.RESET_OPTIONS:return n=e.options[ep],(null==(o=self.document.querySelector("script[".concat(ep,'="').concat(n,'"]')))?void 0:o.parentNode)&&o.parentNode.removeChild(o),ed(ed({},e),{loadingStatus:i.PENDING,options:ed(ed(((r={})[ey]=ef,r),t.value),((a={})[ep]="".concat(ev(t.value)),a))});case s.SET_BRAINTREE_INSTANCE:return ed(ed({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var eN=(0,c.createContext)(null);function ew(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,c.useContext)(eN));return[ed(ed({},e),{isInitial:e.loadingStatus===i.INITIAL,isPending:e.loadingStatus===i.PENDING,isResolved:e.loadingStatus===i.RESOLVED,isRejected:e.loadingStatus===i.REJECTED}),e.dispatch]}(0,c.createContext)({});var eS=function(e){var t,r,a=e.className,n=e.disabled,i=void 0!==n&&n,s=e.children,o=e.forceReRender,l=eu(e,["className","disabled","children","forceReRender"]),d="".concat(void 0===a?"":a," ").concat(i?"paypal-buttons-disabled":"").trim(),u=(0,c.useRef)(null),m=(0,c.useRef)(null),p=((t=(0,c.useRef)(new Proxy({},{get:function(e,t,r){return"function"==typeof e[t]?function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return e[t].apply(e,r)}:Reflect.get(e,t,r)}}))).current=Object.assign(t.current,l),t.current),f=ew()[0],h=f.isResolved,y=f.options,g=(0,c.useState)(null),b=g[0],x=g[1],v=(0,c.useState)(!0),j=v[0],N=v[1],w=(0,c.useState)(null)[1];function S(){null!==m.current&&m.current.close().catch(function(){})}return(null==(r=m.current)?void 0:r.updateProps)&&m.current.updateProps({message:l.message}),(0,c.useEffect)(function(){if(!1===h)return S;var e=eb(y.dataNamespace);if(void 0===e||void 0===e.Buttons)return w(function(){throw Error(ex({reactComponentName:eS.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:y.components,sdkDataNamespace:y[eh]}))}),S;try{m.current=e.Buttons(ed(ed({},p),{onInit:function(e,t){x(t),"function"==typeof l.onInit&&l.onInit(e,t)}}))}catch(e){return w(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===m.current.isEligible()?N(!1):u.current&&m.current.render(u.current).catch(function(e){null!==u.current&&0!==u.current.children.length&&w(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),S},em(em([h],void 0===o?[]:o,!0),[l.fundingSource],!1)),(0,c.useEffect)(function(){null!==b&&(!0===i?b.disable().catch(function(){}):b.enable().catch(function(){}))},[i,b]),c.default.createElement(c.default.Fragment,null,j?c.default.createElement("div",{ref:u,style:i?{opacity:.38}:{},className:d}):s)};function eC(e,t){void 0===t&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(e){r.setAttribute(e,t[e]),"data-csp-nonce"===e&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}eS.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;function eP(e,t){if("object"!=typeof e||null===e)throw Error("Expected an options object.");var r=e.environment;if(r&&"production"!==r&&"sandbox"!==r)throw Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==t&&"function"!=typeof t)throw Error("Expected PromisePonyfill to be a function.")}var eE=function(e){var t=e.className,r=e.children,a=eu(e,["className","children"]),n=ew()[0],i=n.isResolved,s=n.options,o=(0,c.useRef)(null),l=(0,c.useState)(!0),d=l[0],u=l[1],m=(0,c.useState)(null)[1],p=function(e){var t=o.current;if(!t||!e.isEligible())return u(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch(function(e){null!==t&&0!==t.children.length&&m(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(e))})})};return(0,c.useEffect)(function(){if(!1!==i){var e=eb(s[eh]);if(void 0===e||void 0===e.Marks)return m(function(){throw Error(ex({reactComponentName:eE.displayName,sdkComponentKey:"marks",sdkRequestedComponents:s.components,sdkDataNamespace:s[eh]}))});p(e.Marks(ed({},a)))}},[i,a.fundingSource]),c.default.createElement(c.default.Fragment,null,d?c.default.createElement("div",{ref:o,className:void 0===t?"":t}):r)};eE.displayName="PayPalMarks";var ek=function(e){var t=e.className,r=e.forceReRender,a=eu(e,["className","forceReRender"]),n=ew()[0],i=n.isResolved,s=n.options,o=(0,c.useRef)(null),l=(0,c.useRef)(null),d=(0,c.useState)(null)[1];return(0,c.useEffect)(function(){if(!1!==i){var e=eb(s[eh]);if(void 0===e||void 0===e.Messages)return d(function(){throw Error(ex({reactComponentName:ek.displayName,sdkComponentKey:"messages",sdkRequestedComponents:s.components,sdkDataNamespace:s[eh]}))});l.current=e.Messages(ed({},a)),l.current.render(o.current).catch(function(e){null!==o.current&&0!==o.current.children.length&&d(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},em([i],void 0===r?[]:r,!0)),c.default.createElement("div",{ref:o,className:void 0===t?"":t})};ek.displayName="PayPalMessages";var eA=function(e){var t,r=e.options,a=void 0===r?{clientId:"test"}:r,n=e.children,o=e.deferLoading,l=void 0!==o&&o,d=(0,c.useReducer)(ej,{options:ed(ed({},a),((t={}).dataJsSdkLibrary=ef,t[ey]=ef,t[ep]="".concat(ev(a)),t)),loadingStatus:l?i.INITIAL:i.PENDING}),u=d[0],m=d[1];return(0,c.useEffect)(function(){if(!1===l&&u.loadingStatus===i.INITIAL)return m({type:s.LOADING_STATUS,value:i.PENDING});if(u.loadingStatus===i.PENDING){var e=!0;return(function(e,t){if(void 0===t&&(t=Promise),eP(e,t),"u"<typeof document)return t.resolve(null);var r,a,n,i,s,o,l,c,d,u,m=(i=e.sdkBaseUrl,s=e.environment,o=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}(e,["sdkBaseUrl","environment"]),l=i||("sandbox"===s?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"),d=(c=Object.keys(o).filter(function(e){return void 0!==o[e]&&null!==o[e]&&""!==o[e]}).reduce(function(e,t){var r=o[t].toString();return"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})).substring(0,4)||"crossorigin"===t?e.attributes[t]=r:e.queryParams[t]=r,e},{queryParams:{},attributes:{}})).queryParams,u=c.attributes,d["merchant-id"]&&-1!==d["merchant-id"].indexOf(",")&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(l,"?").concat((a="",Object.keys(r=d).forEach(function(e){0!==a.length&&(a+="&"),a+=e+"="+r[e]}),a)),attributes:u}),p=m.url,f=m.attributes,h=f["data-namespace"]||"paypal",y=(n=h,window[n]);return(f["data-js-sdk-library"]||(f["data-js-sdk-library"]="paypal-js"),function(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(null===r)return null;var a=eC(e,t),n=r.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(a.dataset).length)return null;var i=!0;return Object.keys(n.dataset).forEach(function(e){n.dataset[e]!==a.dataset[e]&&(i=!1)}),i?r:null}(p,f)&&y)?t.resolve(y):(function(e,t){void 0===t&&(t=Promise),eP(e,t);var r=e.url,a=e.attributes;if("string"!=typeof r||0===r.length)throw Error("Invalid url.");if(void 0!==a&&"object"!=typeof a)throw Error("Expected attributes to be an object.");return new t(function(e,t){var n,i,s,o,l,c;if("u"<typeof document)return e();i=(n={url:r,attributes:a,onSuccess:function(){return e()},onError:function(){return t(Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.')))}}).url,s=n.attributes,o=n.onSuccess,l=n.onError,(c=eC(i,s)).onerror=l,c.onload=o,document.head.insertBefore(c,document.head.firstElementChild)})})({url:p,attributes:f},t).then(function(){var e,t=(e=h,window[e]);if(t)return t;throw Error("The window.".concat(h," global variable is not available."))})})(u.options).then(function(){e&&m({type:s.LOADING_STATUS,value:i.RESOLVED})}).catch(function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&m({type:s.LOADING_STATUS,value:{state:i.REJECTED,message:String(t)}})}),function(){e=!1}}},[u.options,l,u.loadingStatus]),c.default.createElement(eN.Provider,{value:ed(ed({},u),{dispatch:m})},n)};function eO(){}(0,c.createContext)({cardFieldsForm:null,fields:{},registerField:eO,unregisterField:eO});var eI=e.i(5539),eT=e.i(75157),eR=e.i(59544);let e_=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];F=!0;var a=Date.now();return z().then(function(e){return D(e,t,a)})}("pk_test_LIvd1lIqY5NOcrlzRRdCtTOj00iQtxXAoa");function eD({checkoutData:e,clientSecret:t,orderId:r,onSuccess:a,onError:n}){var i;let s=ei("calls useStripe()").stripe,o=(i="calls useElements()",er(c.default.useContext(et),i)).elements,[d,m]=(0,c.useState)(!1),{cart:p}=(0,eI.useCart)(),f=async()=>{if(!s||!o)return void n("Stripe non ancora caricato. Riprova tra un momento.");m(!0);try{let{error:e}=await s.confirmPayment({elements:o,redirect:"if_required",confirmParams:{return_url:`${window.location.origin}/ordine/conferma`}});if(e)n(e.message||"Errore durante il pagamento");else{let e=t.split("_secret_")[0],n=await fetch("/api/checkout/confirm-order.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({paymentIntentId:e,orderId:r})}),i=await n.json();i.success||console.warn("Confirm order failed, webhook will handle:",i.error),a()}}catch(e){n("Errore di rete. Riprova tra un momento.")}finally{m(!1)}};return(0,l.jsx)(u.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg border-2 border-brand-rose p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(y.CreditCard,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Inserisci i dati di pagamento"]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)(ec,{})}),(0,l.jsx)(eR.default,{onClick:f,disabled:!s||d,isLoading:d,className:"w-full",size:"lg",children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Elaborazione pagamento..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.CreditCard,{className:"h-4 w-4 mr-2"}),"Paga ",(0,eT.formatPrice)(p.total)]})}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"I tuoi dati sono protetti con crittografia SSL a 256 bit"})]})})}function eF({orderId:e,paypalOrderId:t,onSuccess:r,onError:a}){let[n,i]=(0,c.useState)(!1),{cart:s}=(0,eI.useCart)(),o=async t=>{i(!0);try{let n=await fetch("/api/checkout/capture-paypal-order.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({paypalOrderId:t.orderID,orderId:e})}),i=await n.json();i.success?r():a(i.error||"Errore nella conferma del pagamento PayPal")}catch(e){a("Errore di rete. Riprova tra un momento.")}finally{i(!1)}};return(0,l.jsx)(u.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg border-2 border-brand-rose p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(y.CreditCard,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Completa il pagamento con PayPal"]}),n?(0,l.jsxs)("div",{className:"flex flex-col items-center py-8",children:[(0,l.jsx)(N.Loader2,{className:"h-8 w-8 text-brand-rose animate-spin mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Conferma pagamento in corso..."})]}):(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(eA,{options:{clientId:"AdZ_rH0IDyc0jYaj-0OkDANrlhbGUYE1GajFASbzsIsCR_1_sTERGhn7oAwm7EQpip-FskUVgPFVXtZi",currency:"EUR",intent:"capture",locale:"it_IT",enableFunding:"paylater"},children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(eS,{style:{layout:"vertical",color:"gold",shape:"rect",label:"pay",height:50},createOrder:()=>Promise.resolve(t),onApprove:o,onError:e=>{console.error("PayPal error:",e),a("Errore PayPal. Riprova.")},onCancel:()=>{a("Pagamento annullato. Puoi riprovare.")}})}),s.total>=30&&s.total<=2e3&&(0,l.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Paga in 3 rate"})," da"," ",(0,l.jsxs)("span",{className:"font-bold",children:[(0,eT.formatPrice)(s.total/3),"/mese"]})," ","senza interessi con PayPal"]})})]})}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Verrai reindirizzato a PayPal per completare il pagamento in sicurezza"})]})})}function ez(){let e=(0,d.useRouter)(),{cart:t,isLoaded:r,clearCart:a}=(0,eI.useCart)(),[n,i]=(0,c.useState)({customer:{email:"",firstName:"",lastName:"",phone:""},shippingAddress:{address:"",city:"",province:"",postalCode:"",country:"Italia"},sameAsBilling:!0,requiresInvoice:!1,paymentMethod:"card"}),[s,o]=(0,c.useState)({}),[w,S]=(0,c.useState)(!1),[C,P]=(0,c.useState)(""),[E,k]=(0,c.useState)(0),[A,O]=(0,c.useState)(""),[I,T]=(0,c.useState)(!1),[R,_]=(0,c.useState)(""),[D,F]=(0,c.useState)(null);(0,c.useEffect)(()=>{r&&0===t.items.length&&!I&&e.push("/carrello")},[r,t.items.length,e,I]),(0,c.useEffect)(()=>{r&&0!==t.items.length&&"function"==typeof window.fbq&&window.fbq("track","InitiateCheckout",{content_ids:t.items.map(e=>e.product.code),num_items:t.items.reduce((e,t)=>e+t.quantity,0),value:t.total,currency:"EUR"})},[r]),(0,c.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();t.success&&t.user&&i(e=>({...e,customer:{email:t.user.email||"",firstName:t.user.firstName||"",lastName:t.user.lastName||"",phone:t.user.phone||""}}))}}catch(e){console.log("User not logged in")}})()},[]);let z=(e,t)=>{i(r=>{let a=e.split(".");if(1===a.length)return{...r,[e]:t};if(2===a.length){let e=r[a[0]];return{...r,[a[0]]:{..."object"==typeof e&&null!==e?e:{},[a[1]]:t}}}if(3===a.length){let e=r[a[0]];return{...r,[a[0]]:{..."object"==typeof e&&null!==e?e:{},[a[1]]:{..."object"==typeof e?.[a[1]]&&e?.[a[1]]!==null?e[a[1]]:{},[a[2]]:t}}}}return r}),s[e]&&o(t=>({...t,[e]:""}))},M=async()=>{let r;if(_(""),r={},n.customer.email||(r.email="Email richiesta"),n.customer.firstName||(r.firstName="Nome richiesto"),n.customer.lastName||(r.lastName="Cognome richiesto"),n.customer.phone||(r.phone="Telefono richiesto"),n.customer.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.customer.email)&&(r.email="Email non valida"),n.shippingAddress.address||(r.address="Indirizzo richiesto"),n.shippingAddress.city||(r.city="Città richiesta"),n.shippingAddress.province||(r.province="Provincia richiesta"),n.shippingAddress.postalCode||(r.postalCode="CAP richiesto"),n.requiresInvoice&&n.invoiceData&&(n.invoiceData.codiceFiscale||(r.codiceFiscale="Codice fiscale richiesto"),"azienda"===n.invoiceData.customerType&&(n.invoiceData.ragioneSociale||(r.ragioneSociale="Ragione sociale richiesta"),n.invoiceData.partitaIva||(r.partitaIva="Partita IVA richiesta"))),!n.sameAsBilling&&n.billingAddress&&(n.billingAddress.address||(r.billingAddress="Indirizzo fatturazione richiesto"),n.billingAddress.city||(r.billingCity="Città fatturazione richiesta"),n.billingAddress.province||(r.billingProvince="Provincia fatturazione richiesta"),n.billingAddress.postalCode||(r.billingPostalCode="CAP fatturazione richiesto")),o(r),0!==Object.keys(r).length)return void _("Compila tutti i campi richiesti");S(!0);try{let r={items:t.items.map(e=>({productCode:e.product.code,name:e.product.name,quantity:e.quantity,unitPrice:e.variant?.price||e.product.price,variantSku:e.variant?.sku||null,variantName:e.variant?.name||e.variant?.size||null,isVirtualVariant:e.variant?.is_virtual||!1,orderedSize:e.variant?.size||null})),customer:{email:n.customer.email,name:`${n.customer.firstName} ${n.customer.lastName}`.trim(),phone:n.customer.phone},shippingAddress:n.shippingAddress,billingAddress:n.sameAsBilling?null:n.billingAddress,requiresInvoice:n.requiresInvoice,invoiceData:n.requiresInvoice?n.invoiceData:null,notes:n.notes||""};if("bank_transfer"===n.paymentMethod){let t=await fetch("/api/checkout/create-bank-transfer-order.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...r,paymentMethod:"bank_transfer"})}),n=await t.json();n.success?(sessionStorage.setItem("bankDetails",JSON.stringify(n.bankDetails)),a(),e.push(`/ordine/conferma?payment_method=bank_transfer&order_id=${n.orderId}&order_number=${n.orderNumber}&total=${n.totals.total}&redirect_status=succeeded`)):_(n.error||"Errore nella creazione dell'ordine")}else if("paypal"===n.paymentMethod){let e=await fetch("/api/checkout/create-paypal-order.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...r,paymentMethod:"paypal"})}),t=await e.json();t.success?(O(t.paypalOrderId),k(t.orderId),T(!0)):_(t.error||"Errore nella creazione del pagamento PayPal")}else{let e=await fetch("/api/checkout/create-payment-intent.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...r,paymentMethod:n.paymentMethod})}),t=await e.json();t.success?(P(t.clientSecret),k(t.orderId),T(!0)):_(t.error||"Errore nella creazione del pagamento")}}catch(e){_("Errore di rete. Riprova tra un momento.")}finally{S(!1)}},q=()=>{if(a(),"paypal"===n.paymentMethod)e.push(`/ordine/conferma?payment_method=paypal&paypal_order_id=${A}&order_id=${E}&redirect_status=succeeded`);else{let t=C.split("_secret_")[0];e.push(`/ordine/conferma?payment_intent=${t}&order_id=${E}&redirect_status=succeeded`)}},L=e=>{_(e),T(!1),P(""),O("")};return 0===t.items.length?null:r?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,l.jsxs)(u.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Completa il tuo ordine"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(m.AnimatePresence,{mode:"wait",children:I?"paypal"===n.paymentMethod?(0,l.jsx)(u.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,l.jsx)(eF,{orderId:E,paypalOrderId:A,onSuccess:q,onError:L})},"paypal-payment"):(0,l.jsx)(u.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,l.jsx)(ea,{stripe:e_,options:{clientSecret:C,appearance:{theme:"stripe",variables:{colorPrimary:"#8b1538"}},locale:"it"},children:(0,l.jsx)(eD,{checkoutData:n,clientSecret:C,orderId:E,onSuccess:q,onError:L})})},"stripe-payment"):(0,l.jsxs)(u.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[R&&(0,l.jsxs)(u.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[(0,l.jsx)(j.AlertCircle,{className:"h-5 w-5 text-red-500 mr-3 flex-shrink-0"}),(0,l.jsx)("span",{className:"text-red-700",children:R})]}),(0,l.jsxs)(u.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,l.jsx)(p.User,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Dati Personali"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,l.jsx)("input",{id:"email",type:"email",required:!0,value:n.customer.email,onChange:e=>z("customer.email",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.email?"border-red-300":"border-gray-300"),placeholder:"mario.rossi@email.com"}),s.email&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,l.jsx)("input",{id:"firstName",type:"text",required:!0,value:n.customer.firstName,onChange:e=>z("customer.firstName",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.firstName?"border-red-300":"border-gray-300"),placeholder:"Mario"}),s.firstName&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.firstName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cognome *"}),(0,l.jsx)("input",{id:"lastName",type:"text",required:!0,value:n.customer.lastName,onChange:e=>z("customer.lastName",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.lastName?"border-red-300":"border-gray-300"),placeholder:"Rossi"}),s.lastName&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.lastName})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefono *"}),(0,l.jsx)("input",{id:"phone",type:"tel",required:!0,value:n.customer.phone,onChange:e=>z("customer.phone",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.phone?"border-red-300":"border-gray-300"),placeholder:"+39 123 456 7890"}),s.phone&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]})]})]}),(0,l.jsxs)(u.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,l.jsx)(f.MapPin,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Indirizzo di Spedizione"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Indirizzo *"}),(0,l.jsx)("input",{id:"address",type:"text",required:!0,value:n.shippingAddress.address,onChange:e=>z("shippingAddress.address",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.address?"border-red-300":"border-gray-300"),placeholder:"Via Roma, 123"}),s.address&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.address})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Città *"}),(0,l.jsx)("input",{id:"city",type:"text",required:!0,value:n.shippingAddress.city,onChange:e=>z("shippingAddress.city",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.city?"border-red-300":"border-gray-300"),placeholder:"Milano"}),s.city&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.city})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"province",className:"block text-sm font-medium text-gray-700 mb-1",children:"Provincia *"}),(0,l.jsx)("input",{id:"province",type:"text",required:!0,value:n.shippingAddress.province,onChange:e=>z("shippingAddress.province",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.province?"border-red-300":"border-gray-300"),placeholder:"MI"}),s.province&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.province})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"CAP *"}),(0,l.jsx)("input",{id:"postalCode",type:"text",required:!0,value:n.shippingAddress.postalCode,onChange:e=>z("shippingAddress.postalCode",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.postalCode?"border-red-300":"border-gray-300"),placeholder:"20100"}),s.postalCode&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.postalCode})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nazione"}),(0,l.jsx)("input",{id:"country",type:"text",value:n.shippingAddress.country,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]})]})]}),(0,l.jsxs)(u.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,l.jsx)(x.Receipt,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Fatturazione"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:n.requiresInvoice,onChange:e=>{z("requiresInvoice",e.target.checked),e.target.checked?z("invoiceData",{customerType:"privato",codiceFiscale:""}):z("invoiceData",void 0)},className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300 rounded"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Richiedi fattura"})]}),(0,l.jsx)(m.AnimatePresence,{children:n.requiresInvoice&&(0,l.jsxs)(u.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo cliente"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"customerType",value:"privato",checked:n.invoiceData?.customerType==="privato",onChange:e=>z("invoiceData.customerType",e.target.value),className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Privato"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"customerType",value:"azienda",checked:n.invoiceData?.customerType==="azienda",onChange:e=>z("invoiceData.customerType",e.target.value),className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Azienda"})]})]})]}),n.invoiceData?.customerType==="azienda"&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"ragioneSociale",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ragione Sociale *"}),(0,l.jsx)("input",{id:"ragioneSociale",type:"text",value:n.invoiceData?.ragioneSociale||"",onChange:e=>z("invoiceData.ragioneSociale",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.ragioneSociale?"border-red-300":"border-gray-300"),placeholder:"Azienda S.r.l."}),s.ragioneSociale&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.ragioneSociale})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"partitaIva",className:"block text-sm font-medium text-gray-700 mb-1",children:"Partita IVA *"}),(0,l.jsx)("input",{id:"partitaIva",type:"text",value:n.invoiceData?.partitaIva||"",onChange:e=>z("invoiceData.partitaIva",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.partitaIva?"border-red-300":"border-gray-300"),placeholder:"12345678901"}),s.partitaIva&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.partitaIva})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"codiceFiscale",className:"block text-sm font-medium text-gray-700 mb-1",children:"Codice Fiscale *"}),(0,l.jsx)("input",{id:"codiceFiscale",type:"text",value:n.invoiceData?.codiceFiscale||"",onChange:e=>z("invoiceData.codiceFiscale",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.codiceFiscale?"border-red-300":"border-gray-300"),placeholder:"RSSMRA80A01H501U"}),s.codiceFiscale&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.codiceFiscale})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"codiceSdi",className:"block text-sm font-medium text-gray-700 mb-1",children:["Codice SDI ",(0,l.jsx)("span",{className:"text-gray-400",children:"(opzionale)"})]}),(0,l.jsx)("input",{id:"codiceSdi",type:"text",value:n.invoiceData?.codiceSdi||"",onChange:e=>z("invoiceData.codiceSdi",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",placeholder:"ABCDEFG"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"pec",className:"block text-sm font-medium text-gray-700 mb-1",children:["PEC ",(0,l.jsx)("span",{className:"text-gray-400",children:"(opzionale)"})]}),(0,l.jsx)("input",{id:"pec",type:"email",value:n.invoiceData?.pec||"",onChange:e=>z("invoiceData.pec",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",placeholder:"azienda@pec.it"})]})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:!n.sameAsBilling,onChange:e=>{z("sameAsBilling",!e.target.checked),e.target.checked?z("billingAddress",{address:"",city:"",province:"",postalCode:"",country:"Italia"}):z("billingAddress",void 0)},className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300 rounded"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Indirizzo di fatturazione diverso da quello di spedizione"})]}),!n.sameAsBilling&&(0,l.jsxs)(u.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"billingAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Indirizzo Fatturazione *"}),(0,l.jsx)("input",{id:"billingAddress",type:"text",value:n.billingAddress?.address||"",onChange:e=>z("billingAddress.address",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.billingAddress?"border-red-300":"border-gray-300"),placeholder:"Via della Fatturazione, 456"}),s.billingAddress&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.billingAddress})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"billingCity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Città *"}),(0,l.jsx)("input",{id:"billingCity",type:"text",value:n.billingAddress?.city||"",onChange:e=>z("billingAddress.city",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.billingCity?"border-red-300":"border-gray-300"),placeholder:"Roma"}),s.billingCity&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.billingCity})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"billingProvince",className:"block text-sm font-medium text-gray-700 mb-1",children:"Provincia *"}),(0,l.jsx)("input",{id:"billingProvince",type:"text",value:n.billingAddress?.province||"",onChange:e=>z("billingAddress.province",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.billingProvince?"border-red-300":"border-gray-300"),placeholder:"RM"}),s.billingProvince&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.billingProvince})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"billingPostalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"CAP *"}),(0,l.jsx)("input",{id:"billingPostalCode",type:"text",value:n.billingAddress?.postalCode||"",onChange:e=>z("billingAddress.postalCode",e.target.value),className:(0,eT.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors",s.billingPostalCode?"border-red-300":"border-gray-300"),placeholder:"00100"}),s.billingPostalCode&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.billingPostalCode})]})]})]})})]})]}),(0,l.jsxs)(u.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,l.jsx)(h.FileText,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Note Ordine"]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:["Note aggiuntive ",(0,l.jsx)("span",{className:"text-gray-400",children:"(opzionale)"})]}),(0,l.jsx)("textarea",{id:"notes",rows:3,value:n.notes||"",onChange:e=>z("notes",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-rose focus:border-brand-rose transition-colors resize-none",placeholder:"Istruzioni speciali per la consegna..."})]})]}),(0,l.jsxs)(u.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,l.jsx)(y.CreditCard,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Metodo di Pagamento"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)(u.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,eT.cn)("border-2 rounded-lg p-4 cursor-pointer transition-all","card"===n.paymentMethod?"border-brand-rose bg-brand-pink-light":"border-gray-200 hover:border-gray-300"),onClick:()=>z("paymentMethod","card"),children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("input",{type:"radio",name:"paymentMethod",value:"card",checked:"card"===n.paymentMethod,onChange:()=>z("paymentMethod","card"),className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300"}),(0,l.jsx)("span",{className:"ml-2 font-medium",children:"💳 Carta"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Visa, Mastercard, American Express"})]}),(0,l.jsxs)(u.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,eT.cn)("border-2 rounded-lg p-4 cursor-pointer transition-all","klarna"===n.paymentMethod?"border-brand-rose bg-brand-pink-light":"border-gray-200 hover:border-gray-300"),onClick:()=>z("paymentMethod","klarna"),children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("input",{type:"radio",name:"paymentMethod",value:"klarna",checked:"klarna"===n.paymentMethod,onChange:()=>z("paymentMethod","klarna"),className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300"}),(0,l.jsx)("span",{className:"ml-2 font-medium",children:"🩷 Klarna"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Paga in 3 rate senza interessi"})]}),(0,l.jsxs)(u.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,eT.cn)("border-2 rounded-lg p-4 cursor-pointer transition-all","paypal"===n.paymentMethod?"border-brand-rose bg-brand-pink-light":"border-gray-200 hover:border-gray-300"),onClick:()=>z("paymentMethod","paypal"),children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:"paypal"===n.paymentMethod,onChange:()=>z("paymentMethod","paypal"),className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300"}),(0,l.jsx)("span",{className:"ml-2 font-medium",children:"🟡 PayPal"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Paga subito o in 3 rate senza interessi"})]}),(0,l.jsxs)(u.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,eT.cn)("border-2 rounded-lg p-4 cursor-pointer transition-all","bank_transfer"===n.paymentMethod?"border-brand-rose bg-brand-pink-light":"border-gray-200 hover:border-gray-300"),onClick:()=>z("paymentMethod","bank_transfer"),children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("input",{type:"radio",name:"paymentMethod",value:"bank_transfer",checked:"bank_transfer"===n.paymentMethod,onChange:()=>z("paymentMethod","bank_transfer"),className:"h-4 w-4 text-brand-rose focus:ring-brand-rose border-gray-300"}),(0,l.jsx)("span",{className:"ml-2 font-medium",children:"🏦 Bonifico Bancario"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Paga tramite bonifico bancario"})]})]}),"paypal"===n.paymentMethod&&t.total>=30&&t.total<=2e3&&(0,l.jsx)(u.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-lg",children:"💰"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:"Paga in 3 rate con PayPal"}),(0,l.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:["3 rate mensili da ",(0,l.jsx)("strong",{children:(0,eT.formatPrice)(t.total/3)}),' senza interessi. Scegli l\'opzione "Paga in 3 rate" nel popup PayPal.']})]})]})}),"bank_transfer"===n.paymentMethod&&(0,l.jsx)(u.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-lg",children:"🏦"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-amber-900",children:"Come funziona il bonifico"}),(0,l.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Dopo aver confermato l'ordine, riceverai le coordinate bancarie via email e nella pagina di conferma. L'ordine sarà elaborato dopo la ricezione del pagamento (1-2 giorni lavorativi)."})]})]})})]}),(0,l.jsxs)(u.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsx)(eR.default,{onClick:M,isLoading:w,disabled:w,className:"w-full",size:"lg",children:w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Preparazione pagamento..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.CreditCard,{className:"h-4 w-4 mr-2"}),"Procedi al pagamento · ",(0,eT.formatPrice)(t.total)]})}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:['Cliccando "Procedi al pagamento" accetti i nostri'," ",(0,l.jsx)("a",{href:"/termini",className:"text-brand-rose hover:underline",children:"Termini e Condizioni"})," ","e la"," ",(0,l.jsx)("a",{href:"/privacy",className:"text-brand-rose hover:underline",children:"Privacy Policy"})]})]})]},"form")})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsx)(u.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"sticky top-8",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(g.ShoppingBag,{className:"h-5 w-5 mr-2 text-brand-rose"}),"Riepilogo Ordine"]}),(0,l.jsx)("div",{className:"space-y-3 mb-6",children:t.items.map((e,t)=>(0,l.jsxs)(u.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"flex items-center space-x-3",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:e.product.images[0]?.url||"/placeholder.jpg",alt:e.product.name,className:"w-12 h-12 object-cover rounded-lg"}),(0,l.jsx)("span",{className:"absolute -top-2 -right-2 bg-brand-rose text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e.quantity})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.product.name}),e.variant&&(0,l.jsx)("p",{className:"text-xs text-gray-500",children:e.variant.name||e.variant.size})]}),(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,eT.formatPrice)((e.variant?.price||e.product.price)*e.quantity)})]},`${e.product.code}-${e.variant?.sku||"default"}`))}),(0,l.jsx)("hr",{className:"border-gray-200 mb-4"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Subtotale"}),(0,l.jsx)("span",{className:"text-gray-900",children:(0,eT.formatPrice)(t.subtotal)})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsxs)("span",{className:"text-gray-600 flex items-center",children:[(0,l.jsx)(b.Truck,{className:"h-4 w-4 mr-1"}),"Spedizione"]}),(0,l.jsx)("span",{className:(0,eT.cn)(0===t.shipping?"text-green-600 font-medium":"text-gray-900"),children:0===t.shipping?"Gratuita":(0,eT.formatPrice)(t.shipping)})]}),0===t.shipping&&t.subtotal<eI.FREE_SHIPPING_THRESHOLD&&(0,l.jsxs)("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:[(0,l.jsx)(v.CheckCircle,{className:"h-3 w-3 inline mr-1"}),"Spedizione gratuita applicata!"]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"IVA inclusa"}),(0,l.jsx)("span",{className:"text-gray-900",children:(0,eT.formatPrice)(t.tax)})]}),(0,l.jsx)("hr",{className:"border-gray-200"}),(0,l.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,l.jsx)("span",{className:"text-gray-900",children:"Totale"}),(0,l.jsx)("span",{className:"text-brand-rose",children:(0,eT.formatPrice)(t.total)})]})]}),t.subtotal<eI.FREE_SHIPPING_THRESHOLD&&(0,l.jsxs)(u.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-brand-pink-light rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,l.jsx)("span",{className:"text-brand-rose-dark font-medium",children:"Spedizione gratuita"}),(0,l.jsxs)("span",{className:"text-brand-rose-dark",children:[(0,eT.formatPrice)(eI.FREE_SHIPPING_THRESHOLD-t.subtotal)," rimanenti"]})]}),(0,l.jsx)("div",{className:"w-full bg-white rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-brand-rose h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t.subtotal/eI.FREE_SHIPPING_THRESHOLD*100,100)}%`}})})]})]})})})]})]})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(N.Loader2,{className:"w-8 h-8 text-brand-rose animate-spin mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Caricamento..."})]})})}e.s(["default",()=>ez],69439)}]);