(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},63488,e=>{"use strict";let a=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>a],63488)},74802,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(22016),l=e.i(46932),r=e.i(75254);let c=(0,r.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),n=(0,r.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var d=e.i(31278),o=e.i(63488),u=e.i(59544);function x(){let e=(0,s.useSearchParams)().get("token"),[l,r]=(0,t.useState)("loading"),[x,m]=(0,t.useState)("");return(0,t.useEffect)(()=>{!async function(){if(!e){r("error"),m("Token di verifica mancante");return}try{let a=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:e})}),t=await a.json();t.success?t.alreadyVerified?(r("already_verified"),m("Il tuo account era già stato verificato.")):(r("success"),m("Account verificato con successo!")):(r("error"),m(t.error||"Errore durante la verifica"))}catch{r("error"),m("Errore di connessione. Riprova più tardi.")}}()},[e]),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-8 text-center",children:["loading"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.Loader2,{className:"w-8 h-8 text-gray-400 animate-spin"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifica in corso..."}),(0,a.jsx)("p",{className:"text-gray-500",children:"Stiamo verificando il tuo account"})]}),"success"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(c,{className:"w-8 h-8 text-green-500"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email Verificata!"}),(0,a.jsxs)("p",{className:"text-gray-500 mb-6",children:[x," Ora puoi accedere al tuo account."]}),(0,a.jsx)(i.default,{href:"/account",children:(0,a.jsx)(u.default,{size:"lg",className:"w-full",children:"Accedi al tuo account"})})]}),"already_verified"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(c,{className:"w-8 h-8 text-blue-500"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Già Verificato"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:x}),(0,a.jsx)(i.default,{href:"/account",children:(0,a.jsx)(u.default,{size:"lg",className:"w-full",children:"Vai al login"})})]}),"error"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(n,{className:"w-8 h-8 text-red-500"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifica Fallita"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:x}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(i.default,{href:"/account",children:(0,a.jsxs)(u.default,{variant:"outline",size:"lg",className:"w-full",children:[(0,a.jsx)(o.Mail,{className:"w-4 h-4 mr-2"}),"Richiedi nuovo link"]})}),(0,a.jsx)(i.default,{href:"/",children:(0,a.jsx)(u.default,{variant:"ghost",size:"lg",className:"w-full",children:"Torna alla home"})})]})]})]})}function m(){return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.Loader2,{className:"w-8 h-8 text-gray-400 animate-spin"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Caricamento..."})]})}function h(){return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:(0,a.jsx)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(m,{}),children:(0,a.jsx)(x,{})})})})}e.s(["default",()=>h],74802)}]);