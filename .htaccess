# Redirect tutto a cartella out/
RewriteEngine On
RewriteBase /

# Homepage
RewriteRule ^$ out/index.html [L]

# Se richiesta una pagina (senza estensione), cerca in out/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^.]+)/?$ out/$1.html [L]

# Se il file esiste in out/, servilo
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{DOCUMENT_ROOT}/out/%{REQUEST_URI} -f
RewriteRule ^(.*)$ out/$1 [L]

# Risorse statiche (_next, images, etc)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^_next/(.*)$ out/_next/$1 [L]
